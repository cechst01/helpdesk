!function(t){t.fn.cardtable=function(s){var a,d=this,e={headIndex:0},l=t.extend({},e,s);return a=s&&s.headIndex?s.headIndex:0,d.each(function(){var s=t(this);if(!s.hasClass("stacktable")){var a=t(this).prop("class"),d=t("<div></div>");"undefined"!=typeof l.myClass&&d.addClass(l.myClass);var e,n,h,i,c,r="";s.addClass("stacktable large-only"),e=s.find("caption").clone(),n=s.find("tr").eq(0),s.find("tbody tr").each(function(){h="",i="",c=t(this).prop("class"),t(this).find("td,th").each(function(s){""!==t(this).html()&&(i+='<tr class="'+c+'">',i+=n.find("td,th").eq(s).html()?'<td class="st-key">'+n.find("td,th").eq(s).html()+"</td>":'<td class="st-key"></td>',i+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",i+="</tr>")}),r+='<table class=" '+a+' stacktable small-only"><tbody>'+h+i+"</tbody></table>"}),s.find("tfoot tr td").each(function(s,d){""!==t.trim(t(d).text())&&(r+='<table class="'+a+' stacktable small-only"><tbody><tr><td>'+t(d).html()+"</td></tr></tbody></table>")}),d.prepend(e),d.append(t(r)),s.before(d)}})},t.fn.stacktable=function(s){var a,d=this,e={headIndex:0},l=t.extend({},e,s);return a=s&&s.headIndex?s.headIndex:0,d.each(function(){var s=t(this).prop("class"),d=t('<table class="'+s+' stacktable small-only"><tbody></tbody></table>');"undefined"!=typeof l.myClass&&d.addClass(l.myClass);var e,n,h,i,c,r,o="";e=t(this),e.addClass("stacktable large-only"),n=e.find("caption").clone(),h=e.find("tr").eq(0),e.find("tr").each(function(s){i="",c="",r=t(this).prop("class"),0===s?o+='<tr class=" '+r+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find("th,td").eq(a).html()+"</th></tr>":(t(this).find("td,th").each(function(s){s===a?""!==t(this).html()&&(c+='<tr class="'+r+' first">',c+=h.find("td,th").eq(s).html()?'<td class="st-key">'+h.find("td,th").eq(s).html()+"</td>":'<td class="st-key"></td>',c+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",c+="</tr>"):""!==t(this).html()&&(c+='<tr class="'+r+'">',c+=h.find("td,th").eq(s).html()?'<td class="st-key">'+h.find("td,th").eq(s).html()+"</td>":'<td class="st-key"></td>',c+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",c+="</tr>")}),o+=i+c)}),d.prepend(n),d.append(t(o)),e.before(d)})},t.fn.stackcolumns=function(s){var a=this,d={},e=t.extend({},d,s);return a.each(function(){var s=t(this),a=s.find("tr").eq(0).find("td,th").length;if(!(3>a)){var d=t('<table class="stacktable small-only"></table>');"undefined"!=typeof e.myClass&&d.addClass(e.myClass),s.addClass("stacktable large-only");for(var l=t("<tbody></tbody>"),n=1;a>n;)s.find("tr").each(function(s){var a=t("<tr></tr>");0===s&&a.addClass("st-head-row st-head-row-main");var d=t(this).find("td,th").eq(0).clone().addClass("st-key"),e=n;if(t(this).find("*[colspan]").length){var h=0;t(this).find("td,th").each(function(){var s=t(this).attr("colspan");return s?(s=parseInt(s,10),e-=s-1,h+s>n&&(e+=h+s-n-1),h+=s):h++,h>n?!1:void 0})}var i=t(this).find("td,th").eq(e).clone().addClass("st-val").removeAttr("colspan");a.append(d,i),l.append(a)}),++n;d.append(t(l)),s.before(d)}})}}(jQuery);